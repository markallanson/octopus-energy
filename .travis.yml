sudo: false
language: python
dist: focal
matrix:
  fast_finish: true
  include:
  - python: "3.7"
    env: TOXENV=py37
  - python: "3.8"
    env: TOXENV=py38
  - python: "3.9"
    env: TOXENV=py39
  - python: "3.9"
    env: TOXENV=black
  - python: "3.9"
    env: TOXENV=flake8
install:
  - pip install -U tox coveralls
script:
  - tox
cache: pip
after_success:
  - coveralls
deploy:
  provider: pypi
  username: __token__
  password:
    secure: jCGRp6jvdDU0Vkd3gTME1AFvRytRr/jfz4GSd9BDLOx9pOct0PHHu4gEMmpvBzNVEgQoPNJgjVEd5wRVN8v2MrRGPUfF1dD0r4sVeHufj+jVldcdwNT8o704CHdTDQjnrLCR3A6ZePpX23zEAoMzNSJp1L5Pe2HqLiqaoByV99flxrQTYXiYvKda0mpnLw08vAzdrQ+eZgEQxp+CC3IHygIsLtMF5vY/k/HYqVrvOfpxln9FM4WiEX4QTy9MJZABMRM2QMsREaRDbk4zGlUC045Q8dy0pOeIJqpCJMpSoDsp+RpHeOLc8qsUZcrLmZQgoZrVLiF7V0ENXENnThJ4Qf3ShPt2bV7JGqQ1PvpddYxO4zHAirPUhsFxFY7m0oo8Zpj2pEdsxGdHfRAOITA9yhVpc/8GcymgJGd5Sxt9diiY0YEfJh2QsVq8geeJbtIw++FuhRXHo7nT/egYuJeI03B//Xz6h7WT6SgSiiUfnkNuXhMoA0bEe44GwvqdJ6BRZDXTMIqOIlGWTa/hlqEDetEAcRx00MUge9asVU+nCrxzKvhC0HKqAsPwY+nwiKgsy4XbTcuOyQ44UWWy4r9wU83tItEg+/7UpzyRKGP6GbIe0J6L24r9/MiXYKUzDRl6bSoLnY3/LIdscZUTvQ4LGGuyTdROAsg4yEEAKOyYc3A=
  on:
    tags: true
    branch: main
    repo: markallanson/octopus-energy
  distributions: "sdist bdist_wheel"
  skip_existing: true
